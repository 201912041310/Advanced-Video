parameters:
  module: ''
  wrapper: ''

steps:
  - bash: echo ${{parameters.module}}
  - task: Gradle@2
    inputs:
      workingDirectory: ${{parameters.module}}
      gradleWrapperFile: ${{parameters.wrapper}}
      gradleOptions: '-Xmx3072m'
      publishJUnitResults: false
      testResultsFiles: '**/TEST-*.xml'
      tasks: 'assembleDebug'

  - task: PublishPipelineArtifact@1
    inputs:
      path: '${{parameters.module}}/build/outputs/'
      artifact: 'Advanced-Video-Android'
    continueOnError: true