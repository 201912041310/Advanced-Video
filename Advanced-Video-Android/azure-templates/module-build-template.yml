parameters:
  - moduleRoot: ''
  - wrapper: ''

- task: Gradle@2
  inputs:
    workingDirectory: ${{parameters.moduleRoot}}
    gradleWrapperFile: ${{parameters.wrapper}}
    gradleOptions: '-Xmx3072m'
    publishJUnitResults: false
    testResultsFiles: '**/TEST-*.xml'
    tasks: 'assembleDebug'

- task: PublishPipelineArtifact@1
  inputs:
    path: '$(System.DefaultWorkingDirectory)/${{parameters.moduleRoot}}/build/outputs/apk/debug/*.apk'
    artifact: 'Advanced-Video-Android'